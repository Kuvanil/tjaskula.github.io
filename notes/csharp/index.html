
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Tomasz Jaskula's blog</title>
    <link rel="stylesheet" href="http://jaskula.fr//stylesheets/bootstrap/less/bootstrap.css">
    <link rel="stylesheet" href="http://jaskula.fr//stylesheets/pygment_trac.css">
    <link rel="shortcut icon" href="http://jaskula.fr//favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="C# language learning notes. C# (pronounced as see sharp) is a multi-paradigm programming language encompassing strong typing,  imperative, declarative, functional, generic, object-oriented (class-based), and component-oriented programming disciplines. It was developed by Microsoft within its .NET initiative and later approved as a standard by Ecma (ECMA-334) and ISO (ISO/IEC 23270:2006). C# is one of the programming languages designed for the Common Language Infrastructure." />
    <meta name="author" content="Tomasz Jaskuła" />
    <meta name="copyright" content="Tomasz Jaskuła 2015" />

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@tjaskula">
    <meta name="twitter:title" content="C# Language learning notes">
    <meta name="twitter:description" content="C# language learning notes. C# (pronounced as see sharp) is a multi-paradigm programming language encompassing strong typing,  imperative, declarative, functional, generic, object-oriented (class-based), and component-oriented programming disciplines. It was developed by Microsoft within its .NET initiative and later approved as a standard by Ecma (ECMA-334) and ISO (ISO/IEC 23270:2006). C# is one of the programming languages designed for the Common Language Infrastructure.">
    
    <!-- End Twitter cards -->

    <link rel="alternate" type="application/rss+xml" title="Tomasz Jaskula's blog" href="http://jaskula.fr/rss.xml" />

      <script>
          (function(d) {
              var config = {
                          kitId: 'xfo7ulp',
                          scriptTimeout: 3000
                      },
                      h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='//use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
          })(document);
      </script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- FSharp.Formatting Styles --> 
    <link rel="stylesheet" type="text/css" media="screen" href="http://jaskula.fr//fsharp.formatting/tooltips.css" />
  	<script type="text/javascript" src="http://jaskula.fr//fsharp.formatting/tooltips.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-58152976-1', 'auto');
        ga('send', 'pageview');

    </script>

  </head>
  <body>

	  <header>

        <div class="navbar-header">
            <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <h1><a class="" href="http://jaskula.fr//index.html">Tomasz Jaskula's blog</a>
                <small>Improve signal, reduce noise = use F#</small>
            </h1>
        </div>

        <nav class="collapse navbar-collapse bs-navbar-collapse">
          <ul class="nav navbar-nav">
              <li>
                  <a href="http://jaskula.fr//blog/">Blog</a>
              </li>
              <li>
                  <A HREF="http://jaskula.fr//talks/">Talks</A>
              </li>
              <!-- <li class="active">
                    <a href="http://jaskula.fr//talks/">Talks</a>
              </li> -->
          </ul>
        </nav>

    </header>

    <div class="container">
      <div class="row">
        <main class="col-lg-8">
              

<h1>C# Language</h1>

<h2>Polymporphisme</h2>

<ul>
<li>Une instance de type x peut se référer à un object qui souclasse x</li>
<li>Upcast : => vers la référence de classe de base (Implicit)</li>
<li>Downcast : => vers la référence dela souclasse (Explicit)</li>
</ul>

<h2>Object</h2>

<h3>Boxing : value-type => reference</h3>

<p><a href="http://theburningmonk.com/2015/07/beware-of-implicit-boxing-of-value-types/">When does the implicit boxing occurs?</a></p>

<ul>
<li>When you invoke a virtual method</li>
</ul>

<p>Value types inherit from the <code>System.ValueType</code>, which itself inherits from <code>System.Object</code>. Amongst other things, <code>System.ValueType</code> provides an override for <code>Equals</code> that gives value types the default compare-by-value behaviour.
However, a value types is stored in memory without the Method Table Pointer so in order to dispatch a virtual method call it'll first have to be boxed into a reference type first.</p>

<ul>
<li>When you call <code>List&lt;T&gt;.Contains</code></li>
</ul>

<p>When you call <code>List&lt;T&gt;.Contains</code>, an instance of <code>EqualityComparer&lt;T&gt;</code> will be used to compare the argument against every element of the list.
This eventually causes a new <code>EqualityComparer&lt;T&gt;</code> to be created.
In the default case where the struct doesn't implement the <code>IEquatable&lt;T&gt;</code> interface, the <code>ObjectEqualityComparer&lt;T&gt;</code> will be returned. And it is in here, that the overridden/inherited <code>Equals(object other)</code> method will be used and causes boxing to occur for every comparison!
If, on the other hand, struct implements the <code>IEquatable&lt;T&gt;</code> interface then the outcome will be very different. This allows some clever logic to kick in and use the overloaded <code>Equals(MyStruct other)</code> instead.</p>

<ul>
<li>When you invoke an interface method</li>
</ul>

<p>Like virtual methods, in order to dispatch an interface method you also need the <em>Method Table Pointer</em>, which means boxing is required.
Fortunately, the CLR is able to short-circuit this by calling the method directly if the compile-time type is resolved to the actual value type (e.g. MyStruct) rather than the interface type.</p>

<ul>
<li>When <code>Dictionary&lt;T&gt;</code> invokes <code>GetHashCode</code></li>
</ul>

<p><code>GetHashCode</code> is used by hash-based collection types, the most common being <code>Dictionary&lt;TKey, TValue&gt;</code> and <code>HashSet&lt;T&gt;</code>.
In both cases, it's invoked through the <code>IEqualityComparer&lt;T&gt;</code> type we talked earlier, and in both cases the comparer is also initialized through <code>EqualityComparer&lt;T&gt;.Default</code> and the <code>CreateComparer</code> method.
<code>GetHashCode</code> is invoked in many places within <code>Dictionary&lt;TKey, TValue&gt;</code> - on <code>Add</code>, <code>ContainsKey</code>, <code>Remove</code>, etc.</p>

<h3>Unboxing : reference type => value-type</h3>

<h3>Struct : pas de constructeur sans paramètres, peut implémenter les interfaces mais pas hériter des classes</h3>

<h3>Enum : constantes numériques goupées et nommées</h3>

<h3>Nested types : peut accéder aux types privés du type contenant</h3>

<h2>Generics</h2>

<ul>
<li>templates de types</li>
<li>type safety et réduction de boxing/unboxing</li>
<li>covariant for OUT Subclass to Base</li>
<li>contravarient for IN Base to Subclass</li>
</ul>

<h2>Delegates</h2>

<ul>
<li>découple l'appellant de la méthode cible</li>
<li>delegate type : protocole auquelle la cible et l'appellant vont se conformer</li>
<li>delegate instance : objet qui references une ou plusieurs methods à invoquer</li>
<li>immutable</li>
</ul>

<h2>Events</h2>

<ul>
<li>subscriber/broadcaster model</li>
<li>But est de prévenir souscripteurs d'inférer entre eux (suppression d'autres souscripteurs, invocations et breoadcast à d'autre) donc on a le mot clé event</li>
<li>peuvent $etre virtuel, overridden, abstract, seald</li>
</ul>

<h2>Lambda</h2>

<ul>
<li>method sans nom écrite à la place de l'instance du délegué</li>
<li>Closure : lambda qui capture les variables qui sont évaluées au runtime et non au moment de la capture</li>
</ul>

<h2>Threading</h2>

<ul>
<li>Contexte switching 6000 a 8000 cycles processeur. Intérvient quand bcp de threads sont en concurence pour un core pour s'exécuter CPU bound</li>
<li>APM : Asynchronous Programmming Model (Begin, End, IAsyncResult)</li>
<li>EAP : Event based Asynchronous pattern (DownloadAsync, DownloadCompleted)</li>
<li>TAP : Task based asynchrounous model</li>
<li>async/await</li>
<li>but d'utiliser threading : responsiveness, handling slow operations</li>
</ul>

<h2>Collections</h2>

<ul>
<li>Array : performant cat les éléments stockées dans un bloc continu en mémoire</li>
<li>Comparaison : <a href="http://geekswithblogs.net/BlackRabbitCoder/archive/2011/06/16/c.net-fundamentals-choosing-the-right-collection-class.aspx">http://geekswithblogs.net/BlackRabbitCoder/archive/2011/06/16/c.net-fundamentals-choosing-the-right-collection-class.aspx</a></li>
</ul>


        </main>
        <aside class="col-lg-4">
              <article>
                <img class="img-responsive img-circle" src="http://jaskula.fr//img/aside-face200.jpg" />
                <div class="aside-text">
                    <blockquote class="small">
                        <p><cite>Welcome to my blog! F# and functional programming it's what I'm interested in and passionate about at the moment. However, software architecture, software craftsmanship, Domain Driven Design are also topics dear to my heart. So stay tuned! There is more to come...</cite></p>
                          <footer>Tomasz Jaskuła</footer>
                    </blockquote>
                </div>
                <div class="social">
                    <a href="https://www.facebook.com/thomas.jaskula" title="facebook"><img src="http://jaskula.fr//img/facebook.jpg" /></a>
                    <a href="https://github.com/tjaskula" title="github"><img src="http://jaskula.fr//img/github.jpg" /></a>
                    <a href="https://plus.google.com/u/1/106268061202265370189/about" title="google"><img src="http://jaskula.fr//img/google.jpg" /></a>
                    <a href="https://twitter.com/tjaskula" title="twitter"><img src="http://jaskula.fr//img/twitter.jpg" /></a>
                    <a href="http://jaskula.fr//rss.xml" title="rss"><img src="http://jaskula.fr//img/rss.jpg" /></a>
                </div>
            </article>
              <article>
                   <h2>Recent posts</h2>

                      <ul class="articles-list">
                              <li>
                                  <h3><a href="http://jaskula.fr//blog/2015/01-21-beginners-quick-guide-to-setup-fsblog-and-start-to-blog-in-5-minutes/index.html">Beginners quick guide to setup FsBlog and start to blog in 5 minutes</a>
                                      <span>    <time datetime="2015-01-21T11:55:09" pubdate data-updated="true">Jan 21, 2015</time>
</span>
                                  </h3>
                              </li>
                              <li>
                                  <h3><a href="http://jaskula.fr//blog/2015/01-20-welcome/index.html">Welcome</a>
                                      <span>    <time datetime="2015-01-20T11:10:42" pubdate data-updated="true">Jan 20, 2015</time>
</span>
                                  </h3>
                              </li>
                              <li>
                                  <h3><a href="http://jaskula.fr//blog/2013/08-21-from-oop-to-fp-about-dependency-injection-and-higher-order-functions/index.html">From OOP to FP : About dependency injection and higher-order functions</a>
                                      <span>    <time datetime="2013-08-21T08:07:57" pubdate data-updated="true">Aug 21, 2013</time>
</span>
                                  </h3>
                              </li>
                              <li>
                                  <h3><a href="http://jaskula.fr//blog/2013/08-16-sharing-code-between-c-and-f/index.html">Sharing code between C# and F#</a>
                                      <span>    <time datetime="2013-08-16T06:25:13" pubdate data-updated="true">Aug 16, 2013</time>
</span>
                                  </h3>
                              </li>
                              <li>
                                  <h3><a href="http://jaskula.fr//blog/2013/08-14-my-2-weeks-trip-from-oop-to-fp-with-f/index.html">My 2 weeks trip from OOP to FP with F#</a>
                                      <span>    <time datetime="2013-08-14T04:16:51" pubdate data-updated="true">Aug 14, 2013</time>
</span>
                                  </h3>
                              </li>
                      </ul>

                  <h4>Blog tags</h4>
                  <p>

                    <a href="http://jaskula.fr//blog/tag/fsharp/">f#</a>&nbsp;(5),                     <a href="http://jaskula.fr//blog/tag/di/">di</a>&nbsp;(5),                     <a href="http://jaskula.fr//blog/tag/ioc/">ioc</a>&nbsp;(4),                     <a href="http://jaskula.fr//blog/tag/aspdotnet-web-api/">asp.net web api</a>&nbsp;(4),                     <a href="http://jaskula.fr//blog/tag/architecture/">architecture</a>&nbsp;(2),                     <a href="http://jaskula.fr//blog/tag/functional-programming/">functional programming</a>&nbsp;(2),                     <a href="http://jaskula.fr//blog/tag/hyprlinkr/">hyprlinkr</a>&nbsp;(2),                     <a href="http://jaskula.fr//blog/tag/structuremap/">structuremap</a>&nbsp;(2),                     <a href="http://jaskula.fr//blog/tag/fsblog/">fsblog</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/announce/">announce</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/dotnet/">.net</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/csharp/">c#</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/fp/">fp</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/oop/">oop</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/attributerouting/">attributerouting</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/rest/">rest</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/restful-api/">restful api</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/aspdotnet/">asp.net</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/tpl/">tpl</a>&nbsp;(1),                     <a href="http://jaskula.fr//blog/tag/castledotwindsor/">castle.windsor</a>&nbsp;(1)                  </p>

                  <h4>Blog archives</h4>
                    <a href="http://jaskula.fr//blog/archive/january-2015/index.html">
                      January 2015 (2)</a>,                    <a href="http://jaskula.fr//blog/archive/august-2013/index.html">
                      August 2013 (4)</a>,                    <a href="http://jaskula.fr//blog/archive/july-2013/index.html">
                      July 2013 (1)</a>,                    <a href="http://jaskula.fr//blog/archive/october-2012/index.html">
                      October 2012 (1)</a>,                    <a href="http://jaskula.fr//blog/archive/april-2012/index.html">
                      April 2012 (1)</a>,                    <a href="http://jaskula.fr//blog/archive/march-2012/index.html">
                      March 2012 (1)</a>,
              </article>
        </aside>
      </div>
    </div>

      <footer class="bottom">
          <div class="container">
              <div class="row">
                  <div class="col-lg-12">
                      <p>This site is generated using <a href="https://github.com/fsprojects/FsBlog">FsBlog</a> and hosted on <a href="https://github.com/tjaskula/Blog">GitHub</a></p>
                      <p><small>By Tomasz Jaskula, 2015 &mdash; Theme by <a href="https://github.com/matjas">matjas</a></small></p>
                  </div>
              </div>
          </div>

      </footer>

    <script src="http://jaskula.fr//javascripts/scale.fix.js"></script>
  </body>
</html>